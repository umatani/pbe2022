<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8"/>
    <title>10. 可変データ</title>
    <link rel="stylesheet" href="../tufte.css"/>
    <link rel="stylesheet" href="../latex.css"/>
    <link rel="stylesheet" href="../umatani.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 綺麗なアイコン -->
    <link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
          rel="stylesheet"/>
    <!-- <\!-- Highlight.js -\-> -->
    <!-- <link rel="stylesheet" href="highlight/styles/default.css"/> -->
    <!-- <script src="highlight/highlight.pack.js"></script> -->
    <!-- <script>hljs.initHighlightingOnLoad();</script> -->
    <!-- 数式 -->
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          tex2jax: {
              inlineMath: [ ['$','$'], ['\\(','\\)'] ]
          }
      });
    </script>
  </head>

  <body>
    <nav class="top">
      <ul>
        <li>&nbsp;</li>
        <li>
        <a href="../chap/09_state.html">&larr; Previous</a>

        </li>
        <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="../chap/11_react.html">Next &rarr;</i></a></li>
      </ul>
    </nav>
    <article>
      <h1 id="tufte-css"><div id="top"/>
        10. 可変データ

      </h1>


      <ul class="signpost"><li>　</li><li><a href="../pdf/jsicp.pdf#page=300" class="external">テキスト： 3.3節</a></li><li><a href="../src/ex/ex10.zip" class="internal">配布ファイル： ex10.zip</a></li></ul>
      <section><h2>はじめに</h2><p>先週と今週でテキストの3.1，3.2，3.3節の内容を扱っています．今週は，3.3節からの問題が含まれています．</p></section><p><anchor id="exercise"></anchor></p><section><h2>今週の課題</h2><p>今回は，</p><blockquote><p><strong>解いた課題の★の数の合計が6個以上</strong></p></blockquote><p>であることを最低条件とします．もちろん，それに縛られず一つでも多くの課題にチャレンジしてください．</p><ul><li>解いた課題の★の数の合計：6個以上</li><li>提出期限：6/22(水) 19:00</li><li>zip に圧縮するディレクトリ名：<tt>ex10</tt></li><li>提出する zip ファイル名：<tt>ex10.zip</tt></li></ul><div class="exercise"><h4>課題10.1 [★★] [<a href="../pdf/jsicp.pdf#page=310" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.17を解きなさい．配布ファイル <code>ex10/ex10-1.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>count-pairs</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題10.2 [★★] [<a href="../pdf/jsicp.pdf#page=311" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.18を解きなさい．配布ファイル <code>ex10/ex10-2.rkt</code> に解答コードを書き加えて完成させること．</p><p>問題文で指定されている手続きを <code>cyclic?</code> という名前で定義しなさい．</p></p></div><div class="exercise"><h4>課題10.3 [★★★★] [<a href="../pdf/jsicp.pdf#page=311" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.19を解きなさい．配布ファイル <code>ex10/ex10-3.rkt</code> に解答コードを書き加えて完成させること．</p><p>問題文で指定されているとおりに定数個のメモリしか使用しない手続きを <code>const-cyclic?</code> という名前で定義しなさい．</p></p></div><div class="exercise"><h4>課題10.4 [★] [<a href="../pdf/jsicp.pdf#page=316" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.21を解きなさい．配布ファイル <code>ex10/ex10-4.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>print-queue</code> を定義しなさい．たとえば，1, 2, 3 がこの順に入っているキューは：</p><div class="highlight"><pre><code>(1 2 3)</code></pre></div><p>のように表示すること．</p><p>標準出力に表示を行う <code>display</code> の使い方は，2つの値を組として表示する以下の手続きを参考にしなさい．</p><div class="highlight"><pre><code>(define (print-pair first second)
  (display "(")
  (display first) (display ",") (display second)
  (display ")"))</code></pre></div></p></div><div class="exercise"><h4>課題10.5 [★★] [<a href="../pdf/jsicp.pdf#page=317" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.22を解きなさい．配布ファイル <code>ex10/ex10-5.rkt</code> に解答コードを書き加えて完成させること．</p><p>問題文中の雛形を埋めることにより <code>make-queue</code> を定義し，さらに，そのキュー表現を用いる <code>empty-queue?</code>，<code>front-queue</code>，<code>insert-queue!</code>，<code>delete-queue!</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題10.6 [★★★] [<a href="../pdf/jsicp.pdf#page=318" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.23を解きなさい．配布ファイル <code>ex10/ex10-6.rkt</code> に解答コードを書き加えて完成させること．</p><p>以下の手続きを定義して，デキューを実装しなさい．</p><ul><li><code>make-deque</code></li><li><code>empty-deque?</code></li><li><code>front-deque</code></li><li><code>rear-deque</code></li><li><code>front-insert-deque!</code></li><li><code>rear-insert-deque!</code></li><li><code>front-delete-deque!</code></li><li><code>rear-delete-deque!</code></li></ul></p></div><div class="exercise"><h4>課題10.7 [★] [<a href="../pdf/jsicp.pdf#page=324" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.24を解きなさい．配布ファイル <code>ex10/ex10-7.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>same-key?</code> という名前の引数でキーを比較するための手続きを受け取るように，<code>make-table</code> (と必要なら <code>make-table</code> が使用する <code>assoc</code> も)を修正しなさい．元にするテキスト中の <code>make-table</code> と <code>assoc</code> の定義は以下のとおり．</p><div class="highlight"><pre><code>(define (make-table)
  (let ((local-table (list '*table*)))
    (define (lookup key-1 key-2)
      (let ((subtable (assoc key-1 (cdr local-table))))
        (if subtable
            (let ((record (assoc key-2 (cdr subtable))))
              (if record
                  (cdr record)
                  false))
            false)))
    (define (insert! key-1 key-2 value)
      (let ((subtable (assoc key-1 (cdr local-table))))
        (if subtable
            (let ((record (assoc key-2 (cdr subtable))))
              (if record
                  (set-cdr! record value)
                  (set-cdr! subtable
                            (cons (cons key-2 value)
                                  (cdr subtable)))))
            (set-cdr! local-table
                      (cons (list key-1
                                  (cons key-2 value))
                            (cdr local-table)))))
      'ok)
    (define (dispatch m)
      (cond ((eq? m 'lookup-proc) lookup)
            ((eq? m 'insert-proc!) insert!)
            (else (error "Unknown operation -- TABLE" m))))
    dispatch))</code></pre></div></p></div><div class="exercise"><h4>課題10.8 [★★★★] [<a href="../pdf/jsicp.pdf#page=324" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.25を解きなさい．配布ファイル <code>ex10/ex10-8.rkt</code> に解答コードを書き加えて完成させること．</p><p>任意個数のキーを問題文で指定されているとおりに扱うことのできる <code>make-table</code> を定義しなさい．前問までと同様，<code>make-table</code> は記号 <code>lookup-proc</code> と <code>insert-proc!</code> を処理する <code>dispatch</code> 手続きを返すものとする.</p></p></div><div class="exercise"><h4>課題10.9 [★] [<a href="../pdf/jsicp.pdf#page=330" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.28を解きなさい．配布ファイル <code>ex10/ex10-9.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>or-gate</code> をテキストの <code>and-gate</code> の定義と同じように定義しなさい．</p><p><code>get-signal</code>，<code>set-signal!</code>，<code>add-action!</code> 等すべてのシミュレータ用手続きは <code>circuit.rkt</code> で定義されており，このファイルから呼び出すことができる．</p><p>注意：遅延時間は変数 <code>or-gate-delay</code> の値とすること．</p></p></div><div class="exercise"><h4>課題10.10 [★] [<a href="../pdf/jsicp.pdf#page=330" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.29を解きなさい．配布ファイル <code>ex10/ex10-10.rkt</code> に解答コードを書き加えて完成させること．</p><p>問題文に指定されているとおり，<code>or-gate</code> を <code>and-gate</code> と <code>inverter</code> を使って定義しなさい．</p><p><code>and-gate</code> や <code>inverter</code> 等すべてのシミュレータ用手続きは<code>circuit.rkt</code> で定義されており，このファイルから呼び出すことができる．</p></p></div><div class="exercise"><h4>課題10.11 [★★] [<a href="../pdf/jsicp.pdf#page=331" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.30を解きなさい．配布ファイル <code>ex10/ex10-11.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>ripple-carry-adder</code> を定義しなさい．引数の回線リスト <code>as</code>，<code>bs</code>，<code>ss</code> はテキストの図3.27に合わせ：</p><pre><code>as = (list a₁ a₂ ... aᵢ ...)
bs = (list b₁ b₂ ... bᵢ ...)
ss = (list s₁ s₂ ... sᵢ ...)</code></pre><p>のように，添字 <code>i</code> の昇順に列んでいるものとそる．また，これら3つのリストの長さはすべて同じ，かつ，1以上と仮定してよい．</p><p>注意： <code>circuit.rkt</code> 中の機能を利用するためには，先に課題10.9 (<code>ex10-9.rkt</code>)を完成させておく必要がある．</p></p></div><div class="exercise"><h4>課題10.12 [★] [<a href="../pdf/jsicp.pdf#page=349" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.33を解きなさい．配布ファイル <code>ex10/ex10-12.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>averager</code> を定義しなさい．</p><p>制約システム用の各種手続きは <code>constraint.rkt</code> で定義されており，このファイルから呼び出すことができる．</p></p></div><div class="exercise"><h4>課題10.13 [★] [<a href="../pdf/jsicp.pdf#page=349" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.35を解きなさい．配布ファイル <code>ex10/ex10-13.rkt</code> に解答コードを書き加えて完成させること．</p><p>下の <code>(???)</code> を書き換えることで <code>squarer</code> を定義しなさい．それ以外のところを書き換えてはいけません．</p></p></div><div class="exercise"><h4>課題10.14 [★] [<a href="../pdf/jsicp.pdf#page=350" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題3.37を解きなさい．配布ファイル <code>ex10/ex10-14.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>c-</code>，<code>c*</code>，<code>c/</code>，<code>cv</code> をそれぞれ定義しなさい．</p></p></div></section>
    </article>
    <nav class="bottom">
      <ul>
        <li>&nbsp;</li>
        <li>
        <a href="../chap/09_state.html">&larr; Previous</a>

        </li>
        <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="../chap/11_react.html">Next &rarr;</i></a></li>
        <li class="right copy">&copy; 2022 Seiji Umatani</li>
      </ul>
    </nav>
  </body>
</html>