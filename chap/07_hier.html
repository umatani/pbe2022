<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8"/>
    <title>7. 階層のあるデータの帰納的定義</title>
    <link rel="stylesheet" href="../tufte.css"/>
    <link rel="stylesheet" href="../latex.css"/>
    <link rel="stylesheet" href="../umatani.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 綺麗なアイコン -->
    <link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
          rel="stylesheet"/>
    <!-- <\!-- Highlight.js -\-> -->
    <!-- <link rel="stylesheet" href="highlight/styles/default.css"/> -->
    <!-- <script src="highlight/highlight.pack.js"></script> -->
    <!-- <script>hljs.initHighlightingOnLoad();</script> -->
    <!-- 数式 -->
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          tex2jax: {
              inlineMath: [ ['$','$'], ['\\(','\\)'] ]
          }
      });
    </script>
  </head>

  <body>
    <nav class="top">
      <ul>
        <li>&nbsp;</li>
        <li>
        <a href="../chap/06_absdata.html">&larr; Previous</a>

        </li>
        <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>

      </ul>
    </nav>
    <article>
      <h1 id="tufte-css"><div id="top"/>
        7. 階層のあるデータの帰納的定義

      </h1>


      <ul class="signpost"><li>　</li><li><a href="../pdf/jsicp.pdf#page=132" class="external">テキスト： 2.2節</a></li><li><a href="../src/ex/ex07.zip" class="internal">配布ファイル： ex07.zip</a></li></ul>
      <section><h2>はじめに</h2><p>講義では2.3節も今週の範囲に含まれていますが，演習では次回に回します．</p></section><p><anchor id="exercise"></anchor></p><section><h2>今週の課題</h2><p>今回は，</p><blockquote><p><strong>解いた課題の★の数の合計が6個以上</strong></p></blockquote><p>であることを最低条件とします．</p><p>なお，課題7.14以降は，講義では扱っていない 2.2.3節と2.2.4節からの問題ですが，余力のある人はぜひチャレンジしてください．とくに，課題7.23以降は，2.2.4節の図形言語を実装するための一連の課題です．課題7.30までをすべて完成させると，テキストの図形言語を Racket 上で実際に動かせるようになってかなり楽しめます．</p><ul><li>解いた課題の★の数の合計：6個以上</li><li>提出期限：6/1(水) 19:00</li><li>zip に圧縮するディレクトリ名：<tt>ex07</tt></li><li>提出する zip ファイル名：<tt>ex07.zip</tt></li></ul><div class="exercise"><h4>課題7.1 [★] [<a href="../pdf/jsicp.pdf#page=138" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.17を解きなさい．配布ファイル <code>ex07/ex07-1.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>last-pair</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.2 [★★] [<a href="../pdf/jsicp.pdf#page=139" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.18を解きなさい．配布ファイル <code>ex07/ex07-2.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>reverse</code> を定義しなさい．</p><p>ヒント： テキストに出てきている他のリスト操作関数を使っても良い．使いたい手続き定義を自分で適宜コピーすること．</p></p></div><div class="exercise"><h4>課題7.3 [★] [<a href="../pdf/jsicp.pdf#page=139" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.19を解きなさい．配布ファイル <code>ex07/ex07-3.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>first-denomination</code>，<code>except-first-denomination</code>，<code>no-more?</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.4 [★★] [<a href="../pdf/jsicp.pdf#page=140" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.20を解きなさい．配布ファイル <code>ex07/ex07-4.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>same-parity</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.5 [★] [<a href="../pdf/jsicp.pdf#page=142" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.21を解きなさい．配布ファイル <code>ex07/ex07-5.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の <code>(???)</code> を埋めることで <code>square-list</code>，<code>square-list2</code> の定義を完成させなさい．それ以外のところを書き換えてはいけません．</p></p></div><div class="exercise"><h4>課題7.6 [★★] [<a href="../pdf/jsicp.pdf#page=144" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.23を解きなさい．配布ファイル <code>ex07/ex07-6.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>for-each</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.7 [★] [<a href="../pdf/jsicp.pdf#page=147" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.25を解きなさい．配布ファイル <code>ex07/ex07-7.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の各 <code>(???)</code> について，<code>car</code> と <code>cdr</code> の呼出しの組み合わせを埋めることで，すべてのテストがとおるようにしなさい．それ以外のところを書き換えてはいけません．</p></p></div><div class="exercise"><h4>課題7.8 [★★] [<a href="../pdf/jsicp.pdf#page=147" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.27を解きなさい．配布ファイル <code>ex07/ex07-8.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>deep-reverse</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.9 [★★] [<a href="../pdf/jsicp.pdf#page=147" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.28を解きなさい．配布ファイル <code>ex07/ex07-9.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>fringe</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.10 [★★★] [<a href="../pdf/jsicp.pdf#page=148" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.29を解きなさい．配布ファイル <code>ex07/ex07-10.rkt</code> に解答コードを書き加えて完成させること．</p><ol style="list-style-type: lower-latin"><li><code>left-branch</code>，<code>right-branch</code>，<code>branch-length</code>，<code>branch-structure</code> を定義しなさい．</li><li><code>total-weight</code> を定義しなさい．</li><li><code>balanced?</code> を定義しなさい．引数の二進モービルがバランスしているなら <code>true</code> を返し，していないなら <code>false</code> を返すこと．</li></ol></p></div><div class="exercise"><h4>課題7.11 [★] [<a href="../pdf/jsicp.pdf#page=149" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.30を解きなさい．配布ファイル <code>ex07/ex07-11.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の2箇所の <code>(???)</code> を書き換えて，2通りの <code>square-tree</code> を定義しなさい．それ以外のところを書き換えてはいけません．</p><ol style="list-style-type: lower-latin"><li><code>square-tree</code>： 高階手続きを使わず定義</li><li><code>square-tree2</code>： <code>map</code> と再帰を使って定義</li></ol><p>正しく解ければ，<code>test</code>，<code>test2</code> を呼び出した際 <code>FAILURE</code> が発生しなくなります．</p></p></div><div class="exercise"><h4>課題7.12 [★] [<a href="../pdf/jsicp.pdf#page=150" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.31を解きなさい．配布ファイル <code>ex07/ex07-12.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>tree-map</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.13 [★★] [<a href="../pdf/jsicp.pdf#page=150" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.32を解きなさい．配布ファイル <code>ex07/ex07-13.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の <code>(???)</code> を埋めて <code>subsets</code> の定義を完成させなさい．それ以外のところを書き換えてはいけません．</p></p></div><div class="exercise"><h4>課題7.14 [★] [<a href="../pdf/jsicp.pdf#page=156" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.33を解きなさい．配布ファイル <code>ex07/ex07-14.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の <code>(???)</code> を埋めて <code>map</code>，<code>append</code>，<code>length</code> の定義を完成させなさい．それ以外のところを書き換えてはいけません．</p></p></div><div class="exercise"><h4>課題7.15 [★] [<a href="../pdf/jsicp.pdf#page=156" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.34を解きなさい．配布ファイル <code>ex07/ex07-15.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の <code>(???)</code> を埋めて <code>horner-eval</code> の定義を完成させなさい．それ以外のところを書き換えてはいけません．</p></p></div><div class="exercise"><h4>課題7.16 [★★] [<a href="../pdf/jsicp.pdf#page=157" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.35を解きなさい．配布ファイル <code>ex07/ex07-16.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の <code>(???)</code> を埋めて <code>count-leaves</code> の定義を完成させなさい．それ以外のところを書き換えてはいけません．</p></p></div><div class="exercise"><h4>課題7.17 [★★] [<a href="../pdf/jsicp.pdf#page=157" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.36を解きなさい．配布ファイル <code>ex07/ex07-17.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の <code>(???)</code> を埋めて <code>accumulate-n</code> の定義を完成させなさい．それ以外のところを書き換えてはいけません．</p><p>ヒント： この節で出てきた他の高階手続き <code>map</code>, <code>filter</code> などを使用してもかまわない．それらは Scheme の標準ライブラリに含まれている手続きであり，自分で定義せずとも呼び出せる．</p></p></div><div class="exercise"><h4>課題7.18 [★★★] [<a href="../pdf/jsicp.pdf#page=158" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.37を解きなさい．配布ファイル <code>ex07/ex07-18.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の <code>(???)</code> を埋めて <code>matrix-*-vector</code>，<code>transpose</code>，<code>matrix-*-matrix</code> の定義を完成させなさい．それ以外のところを書き換えてはいけません．</p><p>このファイルの中から 課題7.17(テキスト問題2.36)で定義されている<code>accumulate-n</code> を呼び出すことが出来る．</p></p></div><div class="exercise"><h4>課題7.19 [★★] [<a href="../pdf/jsicp.pdf#page=159" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.39を解きなさい．配布ファイル <code>ex07/ex07-19.rkt</code> に解答コードを書き加えて完成させること．</p><p>ファイル中の <code>(???)</code> を埋めて，テキスト問題文中で指定されている2通りの<code>reverse</code> 定義を完成させなさい．それ以外のところを書き換えてはいけません．</p></p></div><div class="exercise"><h4>課題7.20 [★] [<a href="../pdf/jsicp.pdf#page=162" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.40を解きなさい．配布ファイル <code>ex07/ex07-20.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>unique-pairs</code> を定義しなさい．さらに，<code>unique-pairs</code> を使って <code>prime-sum-pairs</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.21 [★★★] [<a href="../pdf/jsicp.pdf#page=162" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.41を解きなさい．配布ファイル <code>ex07/ex07-21.rkt</code> に解答コードを書き加えて完成させること．</p><p>問題文で指定されているとおりに振る舞う手続きを<code>(unique-sum-triples n s)</code> として定義しなさい．<code>n</code> は 3 つの数の上限，<code>s</code> は 3 つの数の和である．</p></p></div><div class="exercise"><h4>課題7.22 [★★★★] [<a href="../pdf/jsicp.pdf#page=162" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.42を解きなさい．配布ファイル <code>ex07/ex07-22.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>queens</code> に必要となる3つの補助定義：</p><ul><li><code>empty-board</code></li><li><code>adjoin-position</code></li><li><code>safe?</code></li></ul><p>を完成させなさい．</p></p></div><div class="exercise"><h4>課題7.23 [★] [<a href="../pdf/jsicp.pdf#page=175" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.46を解きなさい．配布ファイル <code>ex07/ex07-23.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>make-vect</code>，<code>xcor-vect</code>，<code>ycor-vect</code> を定義しなさい．さらに，それらを用いて <code>add-vect</code>，<code>sub-vect</code>，<code>scale-vect</code> を定義しなさい．</p></p></div><div class="exercise"><h4>課題7.24 [★] [<a href="../pdf/jsicp.pdf#page=175" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.47を解きなさい．配布ファイル <code>ex07/ex07-24.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>make-frame</code>，<code>origin-frame</code>，<code>edge1-frame</code>，<code>edge2-frame</code> を定義しなさい．<code>make-frame</code> は問題文中の二つのどちらか好きな方を選び，残りの手続きはそれに合わせて定義すること．</p></p></div><div class="exercise"><h4>課題7.25 [★] [<a href="../pdf/jsicp.pdf#page=177" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.48を解きなさい．配布ファイル <code>ex07/ex07-25.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>make-segment</code>，<code>start-segment</code>，<code>end-segment</code> を定義しなさい．ただし，<code>make-segment</code> は，原点から線分の始点へ向うベクタを第1引数に，始点から線分の終点へ向うベクタを第2引数に，それぞれ受け取るものとする．</p><p>課題7.23 (テキスト問題2.46)で定義している<code>make-vect</code>，<code>xcor-vect</code>，<code>ycor-vect</code>，<code>add-vect</code>，<code>sub-vect</code>，<code>scale-vect</code>をこのファイルの中から呼び出すことができる．</p></p></div><div class="exercise"><h4>課題7.26 [★★] [<a href="../pdf/jsicp.pdf#page=177" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.49を解きなさい．配布ファイル <code>ex07/ex07-26.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>segments-&gt;painter</code> を使って問題文に指定されている最初の 3 つのペインタを定義しなさい（<code>wave</code> は面倒くさいのでしなくて良い）．それぞれ，<code>painter-a</code>，<code>painter-b</code>，<code>painter-c</code> という名前にすること．</p><p>課題7.23–7.25 (テキスト問題2.46–2.48)で定義している一連の手続きをこのファイルから使用できる．</p><p>ペインタを使って実際に図形を描画するには，描画用手続き <code>paint</code> を</p><pre><code>&gt; (paint &lt;ペインタ&gt;)</code></pre><p>のようにして呼び出すと良い．</p></p></div><div class="exercise"><h4>課題7.27 [★★] [<a href="../pdf/jsicp.pdf#page=179" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.50を解きなさい．配布ファイル <code>ex07/ex07-27.rkt</code> に解答コードを書き加えて完成させること．</p><ul><li>ペインタを水平に逆転する変換 <code>flip-horiz</code></li><li>ペインタを反時計回りに 180 度回転する変換 <code>rotate180</code></li><li>ペインタを反時計回りに 270 度回転する変換 <code>roatate270</code></li></ul><p>を定義せよ.</p><p>課題7.23，7.24，7.26 (テキスト問題2.46，2.47，2.49)で定義している一連の手続きをこのファイルから使用できる．</p></p></div><div class="exercise"><h4>課題7.28 [★★] [<a href="../pdf/jsicp.pdf#page=179" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.51を解きなさい．配布ファイル <code>ex07/ex07-28.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>below</code> を定義しなさい．問題文では二通りの方法で定義するように書かれているが，それぞれ，<code>below</code>，<code>below2</code> とすること．</p><p>課題7.23，7.26，7.27 (テキスト問題2.46，2.49，2.50)で定義している一連の手続きをこのファイルから使用できる．</p></p></div><div class="exercise"><h4>課題7.29 [★] [<a href="../pdf/jsicp.pdf#page=170" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.44を解きなさい．配布ファイル <code>ex07/ex07-29.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>up-split</code> を定義しなさい．</p><p>課題7.26，7.28 (テキスト問題2.49，2.51)で定義している一連の手続きをこのファイルから使用できる．</p></p></div><div class="exercise"><h4>課題7.30 [★★] [<a href="../pdf/jsicp.pdf#page=173" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.45を解きなさい．配布ファイル <code>ex07/ex07-30.rkt</code> に解答コードを書き加えて完成させること．</p><p><code>split</code> を定義しなさい．</p><p>課題7.23からこの課題までを達成するとテキストの図形言語が完成する．ここまでの課題で定義したすべての手続きと，テキスト中に出てくるサンプルコードを <code>picture.rkt</code> にまとめてある．使用するには，</p><div class="highlight"><pre><code>(require "picture.rkt")</code></pre></div><p>とすること（たとえば，次の課題7.31参照）．</p></p></div><div class="exercise"><h4>課題7.31 [★★] [<a href="../pdf/jsicp.pdf#page=181" class="external">テキスト中の問題文へのリンク</a>]</h4><p><p>リンク先の問題2.52を解きなさい．配布ファイル <code>ex07/ex07-31.rkt</code> に解答コードを書き加えて完成させること．</p><p>問題文に書かている様々な変更を試してみなさい．手続き名は適当に決めてかまいません．</p></p></div></section>
    </article>
    <nav class="bottom">
      <ul>
        <li>&nbsp;</li>
        <li>
        <a href="../chap/06_absdata.html">&larr; Previous</a>

        </li>
        <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>

        <li class="right copy">&copy; 2022 Seiji Umatani</li>
      </ul>
    </nav>
  </body>
</html>